/* ************************************************************************** */
/*                                                                            */
/*                                                        :::      ::::::::   */
/*   asm_globales.c                                     :+:      :+:    :+:   */
/*                                                    +:+ +:+         +:+     */
/*   By: rkirszba <marvin@42.fr>                    +#+  +:+       +#+        */
/*                                                +#+#+#+#+#+   +#+           */
/*   Created: 2019/05/09 17:39:05 by rkirszba          #+#    #+#             */
/*   Updated: 2019/05/14 16:04:37 by rkirszba         ###   ########.fr       */
/*                                                                            */
/* ************************************************************************** */

#include "asm.h"

int g_automate_lex[28][13] =
{
	{0, 1, 6, 7, 8, 14, 16, 18, 20, 24, 27, -1, -1},
	{-1, -1, -1, -1, -1, -1, -1, -1, 2, -1, -1, -1, -1},
	{3, -1, -1, -1, -1, -1, -1, -1, 2, -1, -1, 4, -1},
	{3, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 4, -1},
	{4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 5, 4},
	{-2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2},
	{-2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2},
	{-2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2},
	{-1, -1, -1, -1, -1, 9, 11, 12, -1, -1, -1, -1, -1},
	{-1, -1, -1, -1, -1, -1, -1, 10, 10, 10, -1, -1, -1},
	{13, -1, 13, 13, -1, -1, -1, 10, 10, 10, 13, -1, -1},
	{-1, -1, -1, -1, -1, -1, -1, 12, -1, -1, -1, -1, -1},
	{13, -1, 13, 13, -1, -1, -1, 12, -1, -1, 13, -1, -1},
	{-3, -3, -3, -3, -3, -3, -3, -3, -3, -3, -3, -3, -3},
	{-1, -1, -1, -1, -1, -1, -1, 15, 15, 15, -1, -1, -1},
	{19, -1, 19, 19, -1, -1, -1, 15, 15, 15, 19, -1, -1},
	{-1, -1, -1, -1, -1, -1, -1, 17, -1, -1, -1, -1, -1},
	{19, -1, 19, 19, -1, -1, -1, 17, -1, -1, 19, -1, -1},
	{19, -1, 19, 19, -1, 22, -1, 18, 21, 21, 19, -1, -1},
	{-3, -3, -3, -3, -3, -3, -3, -3, -3, -3, -3, -3, -3},
	{23, -1, 23, 23, -1, 22, -1, 21, 20, 20, 23, -1, -1},
	{-1, -1, -1, -1, -1, 22, -1, 21, 21, 21, -1, -1, -1},
	{-2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2},
	{-3, -3, -3, -3, -3, -3, -3, -3, -3, -3, -3, -3, -3},
	{-1, -1, -1, -1, -1, 22, -1, 25, 21, 21, -1, -1, -1},
	{26, -1, 26, 26, -1, 22, -1, 25, 21, 21, 26, -1, -1},
	{-3, -3, -3, -3, -3, -3, -3, -3, -3, -3, -3, -3, -3},
	{27, 27, 6, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27}
};

char	*g_index_col_lex[12] =
{
	" \t",
	".",
	"\n",
	",",
	"%",
	":",
	"-",
	"0123456789",
	"abcdefghijklmnopqstuvwxyz_",
	"r",
	"#;",
	"\"",
};

int g_automate_syn[47][9] =
{
	{0, 1, -1, -1, -1, -1, -1, -1, -1},
	{2, -1, -1, -1, -1, -1, -1, -1, -1},
	{2, -1, 3, -1, -1, -1, -1, -1, -1},
	{4, -1, -1, -1, -1, -1, -1, -1, -1},
	{4, -1, -1, 5, 6, -1, -1, -1, -1},
	{4, -1, -1, -1, 6, -1, -1, -1, -1},
	{-2, -2, -2, -2, -2, -2, -2, -2, -2},
	{-1, -1, -1, -1, -1, -1, -1, 3, -1},
	{-1, -1, -1, -1, -1, -1, 23, 23, -1},
	{-1, -1, -1, -1, -1, 25, -1, -1, -1},
	{-1, -1, -1, -1, -1, 27, -1, -1, -1},
	{-1, -1, -1, -1, -1, 27, -1, -1, -1},
	{-1, -1, -1, -1, -1, 31, 31, 31, -1},
	{-1, -1, -1, -1, -1, 31, 31, 31, -1},
	{-1, -1, -1, -1, -1, 31, 31, 31, -1},
	{-1, -1, -1, -1, -1, -1, -1, 3, -1},
	{-1, -1, -1, -1, -1, 35, 35, 35, -1},
	{-1, -1, -1, -1, -1, 39, -1, -1, -1},
	{-1, -1, -1, -1, -1, -1, -1, 3, -1},
	{-1, -1, -1, -1, -1, -1, 23, 23, -1},
	{-1, -1, -1, -1, -1, 43, 43, 43, -1},
	{-1, -1, -1, -1, -1, -1, -1, 3, -1},
	{-1, -1, -1, -1, -1, 3, -1, -1, -1},
	{-1, -1, -1, -1, -1, -1, -1, -1, 24},
	{-1, -1, -1, -1, -1, 3, -1, -1, -1},
	{-1, -1, -1, -1, -1, -1, -1, -1, 26},
	{-1, -1, -1, -1, -1, 3, 3, -1, -1},
	{-1, -1, -1, -1, -1, -1, -1, -1, 28},
	{-1, -1, -1, -1, -1, 29, -1, -1, -1},
	{-1, -1, -1, -1, -1, -1, -1, -1, 30},
	{-1, -1, -1, -1, -1, 3, -1, -1, -1},
	{-1, -1, -1, -1, -1, -1, -1, -1, 32},
	{-1, -1, -1, -1, -1, 33, 33, 33, -1},
	{-1, -1, -1, -1, -1, -1, -1, -1, 34},
	{-1, -1, -1, -1, -1, 3, -1, -1, -1},
	{-1, -1, -1, -1, -1, -1, -1, -1, 36},
	{-1, -1, -1, -1, -1, 37, -1, 37, -1},
	{-1, -1, -1, -1, -1, -1, -1, -1, 38},
	{-1, -1, -1, -1, -1, 3, -1, -1, -1},
	{-1, -1, -1, -1, -1, -1, -1, -1, 40},
	{-1, -1, -1, -1, -1, 41, 41, 41, -1},
	{-1, -1, -1, -1, -1, -1, -1, -1, 42},
	{-1, -1, -1, -1, -1, 3, -1, 3, -1},
	{-1, -1, -1, -1, -1, -1, -1, -1, 44},
	{-1, -1, -1, -1, -1, 45, -1, 45, -1},
	{-1, -1, -1, -1, -1, -1, -1, -1, 46},
	{-1, -1, -1, -1, -1, 3, -1, -1, -1},
};

t_lex	g_index_col_syn[9] =
{
	CARRIAGE,
	NAME,
	COMMENT,
	LABEL,
	OPCODE,
	REGISTER,
	INDIRECT,
	DIRECT,
	COMMA,
};

t_oper	g_op_tab[16] =
{
	{"live", 1, 0, 4},
	{"ld", 2, 1, 4},
	{"st", 3, 1, 4},
	{"add", 4, 1, 4},
	{"sub", 5, 1, 4},
	{"and", 6, 1, 4},
	{"or", 7, 1, 4},
	{"xor", 8, 1, 4},
	{"zjmp", 9, 0, 2},
	{"ldi", 10, 1, 2},
	{"sti", 11, 1, 2},
	{"fork", 12, 0, 2},
	{"lld", 13, 1, 4},
	{"lldi", 14, 1, 2},
	{"lfork", 15, 0, 2},
	{"aff", 16, 1, 4},
};
